<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Your Cart</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#111;
  color:#fff;
}

header{
  background:#000;
  padding:15px;
  display:flex;
  align-items:center;
}

header a{
  color:#fff;
  text-decoration:none;
  font-size:20px;
  margin-right:10px;
}

.cart-container{
  padding:15px;
}

.cart-item{
  background:#1c1c1c;
  padding:12px;
  border-radius:8px;
  margin-bottom:10px;
}

.cart-item p{
  margin:5px 0;
}

.qty-btn{
  background:#333;
  color:#fff;
  border:none;
  padding:4px 8px;
  margin:0 5px;
  cursor:pointer;
}

.remove{
  background:red;
  border:none;
  color:white;
  padding:5px 10px;
  margin-top:8px;
  cursor:pointer;
}

.total{
  font-size:20px;
  margin-top:15px;
  font-weight:bold;
}

.checkout-btn{
  display:inline-block;
  margin-top:15px;
  background:green;
  color:white;
  padding:12px 18px;
  text-decoration:none;
  border-radius:6px;
}

.empty{
  opacity:0.7;
}
</style>
</head>

<body>

<header>
  <a href="index.html">←</a>
  <h2>Your Cart</h2>
</header>

<div class="cart-container" id="cartItems"></div>
<div class="cart-container">
  <div class="total" id="total"></div>
  <a href="checkout.html" class="checkout-btn">Proceed to Checkout</a>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const cartDiv = document.getElementById("cartItems");
const totalDiv = document.getElementById("total");

if(cart.length === 0){
  cartDiv.innerHTML = "<p class='empty'>Your cart is empty</p>";
}else{
  let total = 0;

  cart.forEach((item, index) => {
    const subtotal = item.price * item.qty;
    total += subtotal;

    cartDiv.innerHTML += `
      <div class="cart-item">
        <p><b>${item.name}</b></p>
        <p>₹${item.price}</p>
        <p>
          Qty:
          <button class="qty-btn" onclick="changeQty(${index}, -1)">−</button>
          ${item.qty}
          <button class="qty-btn" onclick="changeQty(${index}, 1)">+</button>
        </p>
        <p><b>Subtotal: ₹${subtotal}</b></p>
        <button class="remove" onclick="removeItem(${index})">Remove</button>
      </div>
    `;
  });

  totalDiv.innerText = "Total: ₹" + total;
}

function changeQty(i, n){
  cart[i].qty += n;
  if(cart[i].qty <= 0) cart.splice(i,1);
  localStorage.setItem("cart", JSON.stringify(cart));
  location.reload();
}

function removeItem(i){
  cart.splice(i,1);
  localStorage.setItem("cart", JSON.stringify(cart));
  location.reload();
}
</script>

</body>
</html>
