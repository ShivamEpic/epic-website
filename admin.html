<!DOCTYPE html>
<html>
<head>
  <title>Admin â€“ Confirm Payments</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1 style="text-align:center;">Admin Panel â€“ Payments</h1>

<div id="orders"></div>

<script>
const ADMIN_PIN = "2509"; // ðŸ”´ CHANGE THIS PIN

let pin = prompt("Enter Admin PIN");
if (pin !== ADMIN_PIN) {
  alert("Access Denied");
  document.body.innerHTML = "";
  throw new Error("Unauthorized");
}

let orders = JSON.parse(localStorage.getItem("orders")) || [];
const box = document.getElementById("orders");

if (orders.length === 0) {
  box.innerHTML = "<p>No orders found</p>";
}

orders.forEach((o, i) => {
  box.innerHTML += `
    <div class="order-box">
      <h3>Order #${i + 1}</h3>
      <p>Total: â‚¹${o.total}</p>
      <p>Status: <b>${o.status}</b></p>

      ${o.status !== "Paid"
        ? `<button onclick="markPaid(${i})">Mark as Paid</button>`
        : `<span style="color:lightgreen;">âœ” Payment Confirmed</span>`
      }
    </div>
  `;
});

function markPaid(index) {
  orders[index].status = "Paid";
  localStorage.setItem("orders", JSON.stringify(orders));
  alert("Payment confirmed");
  location.reload();
}
</script>

</body>
</html>
